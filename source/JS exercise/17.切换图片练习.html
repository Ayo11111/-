<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.onload = function () {
            /*
                使图片可以自动切换
            */
            var img = document.getElementById('img1');

            //创建一个数组保存图片的路径
            var imgArr = ["./picture/3.jpg","./picture/4.jpg","./picture/5.jpg","./picture/6.jpg","./picture/7.jpg"];

            //创建一个变量，用来保存图片的索引
            var index = 0;

            //为按钮绑定一个单击响应函数
            var btn1 = document.getElementById('btn1');

            //定义一个变量保存定时器标识
            var timer;

            btn1.onclick = function () {
                /*
                    目前，我们每点击一次按钮，就会开启一个定时器
                     点击多次就会开启多个定时器，这就导致图片的切换速度过快
                     并且我们只能关闭最后一次开启的定时器
                */

                //开启定时器之前，需要将当前元素上的其他定时器关闭
                clearInterval(timer);

             /*
                开启定时器来自动切换图片
            */
            timer = setInterval(function () {
               //使索引自增
               index++

               //判断索引是否超过最大索引
            //    if (index >= imgArr.length) {
            //        // 则将index设置为0
            //        index = 0;
            //    }
                index = index % imgArr.length;


               //修改img的src属性
               img.src = imgArr[index];              
           },1500)
            };

            //btn02绑定一个单击响应函数
            var btn2 = document.getElementById('btn2');

            btn2.onclick = function () {
                // 点击按钮以后使图片停止自动切换，即关闭定时器

                /*
                    clearInterval()可以接收任意的参数
                     如果参数是一个有效的定时器的标识，则停止对应的定时器
                     如果参数不是一个有效的标识，则什么也不做
                */
                clearInterval(timer);  
            };
        };
    </script>
</head>
<body>
    <img src="./picture/3.jpg" id="img1">
    <br><br>
    <button id="btn1">开始</button>
    <button id="btn2">停止</button>
</body>
</html>